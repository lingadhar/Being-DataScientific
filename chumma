#main.py
import os
# import magic
import urllib.request
from app import app
from flask import Flask, flash, request, redirect, render_template, send_file
from werkzeug.utils import secure_filename
import pandas as pd

ALLOWED_EXTENSIONS = set(['txt', 'pdf', 'png', 'jpg', 'jpeg', 'gif'])

def file_upload(wrd):
    files = request.files.getlist('files[]')
    for file in files:
        if file and allowed_file(file.filename):
            filename = secure_filename(file.filename)
            file.save(os.path.join(app.config[wrd], filename))


def allowed_file(filename):
    return '.' in filename and filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS


@app.route('/')
def upload_form():
    return render_template('upload.html')

def sampl_py():
    df = pd.DataFrame(columns=['col1', 'col2'])
    return df

@app.route('/', methods=['POST'])
def upload_file():
    if request.method == 'POST':
        # check if the post request has the files part
        if 'files[]' not in request.files:
            flash('No file part')
            return redirect(request.url)
        if request.form['submit_button'] == "Surya-Submit":
            file_upload('UPLOAD_FOLDER_SUR')
            flash('Surya File(s) successfully uploaded')
        if request.form['submit_button'] == "Linga-Submit":
            file_upload('UPLOAD_FOLDER_LIN')
            flash('Linga File(s) successfully uploaded')
        return redirect('/')

@app.route('/comp', methods=['POST'])
def upload_file_button():
    if request.method == 'POST':
        if request.form['submit_button'] == "comp":
            df=sampl_py()
    return send_file(df.to_csv('des_file.csv'))

if __name__ == "__main__":
    app.run(debug=True)
	

#app.py
from flask import Flask

UPLOAD_FOLDER_SUR = <surya path>
UPLOAD_FOLDER_LIN = <linga path>

app = Flask(__name__)
app.secret_key = "secret key"
app.config['UPLOAD_FOLDER_SUR'] = UPLOAD_FOLDER_SUR
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024
app.config['UPLOAD_FOLDER_LIN'] = UPLOAD_FOLDER_LIN
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024


#HTML FILE
<!doctype html>
<body style="background-color:powderblue;">
<style>
h1 {text-align: center;}
h2 {text-align: center;}
p {text-align: center;}
</style>
<h1>Comparison Portal</h1>
<h2>Select Surya/Linga files to upload</h2>
<p>
	{% with messages = get_flashed_messages() %}
	  {% if messages %}
		<ul class=flashes>
		{% for message in messages %}
		  <li>{{ message }}</li>
		{% endfor %}
		</ul>
	  {% endif %}
	{% endwith %}
</p>

<form method="post" action="/" enctype="multipart/form-data">
    <dl>
		<p>
			<input type="file" name="files[]" multiple="true" autocomplete="off" required>
		</p>
    </dl>
    <p>
		<input type="submit" name="submit_button" value="Surya-Submit">
		<input type="submit" name="submit_button" value="Linga-Submit">
	</p>

</form>

<form method="post" action="/comp">
    <dl>
	    <p>
		    <input type="submit" name="submit_button" value="Surya_Linga_Comp">
		</p>
	</dl>
</form>